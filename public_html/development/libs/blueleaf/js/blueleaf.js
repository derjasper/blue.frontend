/*! blueleaf 17-03-2015 */
function getFirstKeyInArray(a){for(var b in a)return b}function CSSParser(a){this.css=a,this.token={ENABLE:/\/\*! blueleaf \*\//,SELECTOR:/^([^{}@\/]+)(?={)/,MEDIA_DIRECTIVE:/^@media ([^{}\/]+)(?={)/,IGNORE:/^@[^{}@\/]+(?={)/,BLOCK_OPEN:/^{/,BLOCK_CLOSE:/^}/,BLOCK_CONTENT:/^((\/\*[^]*\*\/|[^{}])*)/,COMMENT_OPEN:/^\/\*/,COMMENT_CLOSE:/^\*\//,COMMENT_CONTENT:/^((?!\*\/)[^])+/,RULE:/^([^\/{}:;\n]+:[^{}:;\n]+;)/,COMMENT_CONTENT_JSON_DATA:/^! customrule: /},this.position=0,this.tree=new Object,this.error=!1,this.currentMediaQuery="all",this.currentSelector=""}Map=function(){this._dict=[]},Map.prototype._get=function(a){for(var b,c=0;b=this._dict[c];c++)if(b[0]===a)return b;return void 0},Map.prototype.put=function(a,b){var c=this._get(a);return c?c[1]=b:this._dict.push([a,b]),this},Map.prototype.get=function(a){var b=this._get(a);return b?b[1]:void 0},Map.prototype.remove=function(a){for(var b,c=0;b=this._dict[c];c++)if(b[0]===a)return void this._dict.splice(c,1)},Map.prototype.each=function(a){for(var b,c=0;b=this._dict[c];c++)a(b[0],b[1])};var uuid=0;jQuery.fn.uniqueId=function(){return this.each(function(){this.id||(this.id="uuid-"+ ++uuid)})};var Plugins=function(a){return new Plugins.init(a)};Plugins.fn={},Plugins.init=function(a){this.elm=a},Plugins.init.prototype=Plugins.fn;var ElementProperty={properties:new Map,on:function(a,b,c){var d=this.properties.get(a);void 0==d&&(d={},this.properties.put(a,d)),void 0==d[b]&&(d[b]={value:this.getProperty(a,b),listener:[]}),d[b].listener.push(c)},off:function(a,b,c){var d=this.properties.get(a);if(void 0!=d&&void 0!=d[b]){d[b].listener=jQuery.grep(d[b].listener,function(a){return a!=c}),0==d[b].listener.length&&delete d[b];var e=0;for(var f in d)d.hasOwnProperty(f)&&e++;0==e&&delete this.properties.remove(a)}},fire:function(a,b,c,d){var e=this.properties.get(a);if(void 0!=e&&void 0!=e[b])for(var f=0;f<e[b].listener.length;f++)e[b].listener[f](c,d)},getProperty:function(a,b){var c=b.split(".");if("css"==c[0])return jQuery(a).css(c[1]);if("offset"==c[0])return jQuery(a).offset()[c[1]];if("position"==c[0])return jQuery(a).position()[c[1]];if("width"==c[0]){if(void 0==c[1])return jQuery(a).width();if("inner"==c[1])return jQuery(a).innerWidth();if("outer"==c[1])return jQuery(a).outerWidth();if("outerWithMargin"==c[1])return jQuery(a).outerWidth(!0)}else if("height"==c[0]){if(void 0==c[1])return jQuery(a).height();if("inner"==c[1])return jQuery(a).innerHeight();if("outer"==c[1])return jQuery(a).outerHeight();if("outerWithMargin"==c[1])return jQuery(a).outerHeight(!0)}else if("scroll"==c[0]){if("top"==c[1])return jQuery(a).scrollTop();if("left"==c[1])return jQuery(a).scrollLeft()}return null},check:function(a,b){if(void 0==a){var c=this;this.properties.each(function(a){c.check(a,b)})}else{var d=this.properties.get(a);if(void 0==b&&void 0!=d){var e=[];for(var f in d)e.push(f);this.check(a,e)}else if(void 0!=d)for(var g=0;g<b.length;g++)if(void 0!=d[b[g]]){var h=this.getProperty(a,b[g]);d[b[g]].value!=h&&(this.fire(a,b[g],h,d[b[g]].value),d[b[g]].value=h)}}},start:function(){!function(a){var b=new MutationObserver(function(b){for(var c=0;c<b.length;c++)for(var d=b[c].target;d!=document&&null!=d;)a.check(d),d=d.parentNode});b.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),jQuery(window).on("resize",function(){a.check()})}(this)}};jQuery(function(){ElementProperty.start()});var Selectors={generate:function(a,b){var c=$(b);c.uniqueId();for(var d,a=a.replace(/{this}/g,"#"+c.attr("id"));null!=(d=/{parent-([0-9]+)}/g.exec(a));){for(var e=$("#"+c.attr("id")),f=0;f<d[1];f++)e=e.parent();e.uniqueId();var a=a.replace(new RegExp("{parent-"+d[1]+"}"),"#"+e.attr("id"))}for(var g;null!=(g=/{attr-([0-9a-zA-Z_\-]+)}/g.exec(a));)var a=a.replace(new RegExp("{attr-"+g[1]+"}"),c.attr(g[1]));return a}},Variables={addVariable:function(a,b,c,d){var e=jQuery.data(a,"variables");null==e&&(e={},jQuery.data(a,"variables",e)),e[b]="simple"==d?{initial:c,value:c,type:d}:"group"==d?{initial:c,value:c,type:d}:{initial:c,value:[c],type:d},this.checkfire(a,b)},removeVariable:function(a,b){var c=jQuery.data(a,"variables");null!=c&&(delete c[b],this.checkfire(a,b))},getVariable:function(a,b){var c=jQuery.data(a,"variables");return null==c?void 0:c[b]},setVariable:function(a,b,c){var d=b.split("."),e=this.getVariable(a,d[0]);if(void 0==e){if(a!=document.documentElement)return!1;this.addVariable(a,b,c,"simple"),e=this.getVariable(a,b)}return this.setVal(e,d[1],c),this.checkfire(a,d[0]),!0},getVal:function(a,b){return"simple"==a.type?a.value:"group"==a.type?a.value==b:a.value[a.value.length-1]==b},setVal:function(a,b,c){"simple"==a.type?a.value=c:"group"==a.type?a.value=c?b:a.initial:c?a.value[a.value.length-1]!=b&&a.value.push(b):a.value=jQuery.grep(a.value,function(a){return a!=b})},get:function(a,b){for(var c=a,d=b.split(".");c!=document;){var e;if(void 0!=(e=this.getVariable(c,d[0])))return this.getVal(e,d[1]);c=c.parentNode}return!1},_expr_get_var_paths:function(a){for(var b=a.replace(/(&&|\|\||!|\(|\))/g," ").split(" "),c=[],d=0;d<b.length;d++)b[d]=b[d].trim(),""!==b[d]&&"true"!==b[d]&&"false"!==b[d]&&-1==jQuery.inArray(b[d],c)&&c.push(b[d]);return c},eval:function(context,expression){for(var re=/[^(&&|\|\||!|\(|\))]+(?=(|&&|\|\||!|\(|\)))/g,offset=0,matches=[],match;null!=(match=re.exec(expression));)matches.push(match);for(var i=0;i<matches.length;i++)if("true"!==matches[i][0]&&"false"!==matches[i][0]){var value=this.get(context,matches[i][0])+"";expression=expression.substring(0,matches[i].index+offset)+value+expression.substring(matches[i].index+offset+matches[i][0].length,expression.length),offset+=value.length-matches[i][0].length}return eval(expression)},set:function(a,b,c){for(var d=a;d!=document;){if(this.setVariable(d,b,c))return;d=d.parentNode}},on:function(a,b,c){var d=jQuery.data(a,"variables-listener");null==d&&(d={},jQuery.data(a,"variables-listener",d));for(var e={expression:b,fn:c,lastval:!1},f=this._expr_get_var_paths(b),g=0;g<f.length;g++){var h=f[g].split(".")[0],i=d[h];void 0==i&&(i=[],d[h]=i),i.push(e)}e.last=this.eval(a,b),c(e.last)},off:function(a,b,c){var d=jQuery.data(a,"variables-listener");if(null!=d){for(var e=this._expr_get_var_paths(b),f=0;f<e.length;f++){var g=e[f].split(".")[0];if(void 0==d[g])return;d[g]=jQuery.grep(d[g],function(a){return a.expression!=b&&a.fn!=c})}this.eval(a,b)&&c(!1)}},checkfire:function(a,b){var c=jQuery.data(a,"variables-listener");if(null!=c){var d=c[b];if(null!=d)for(var e=0;e<d.length;e++){var f=this.eval(a,d[e].expression);d[e].last!=f&&(d[e].last=f,d[e].fn(f))}}for(var g=a.children,e=0;e<g.length;e++)void 0==this.getVariable(g[e],b)&&this.checkfire(g[e],b)}};!function(a){Plugins.fn.container_aspectratio=function(b,c){var d=this.elm;return{enable:function(){a(d).data("container-aspectratio")||(a(d).data("container-aspectratio",{listener:function(){"width"==b?a(d).width(a(d).height()*c):a(d).height(a(d).width()*c)}}),a(d).data("container-aspectratio").listener(),"width"==b?ElementProperty.on(d,"height",a(d).data("container-aspectratio").listener):ElementProperty.on(d,"width",a(d).data("container-aspectratio").listener))},disable:function(){a(d).data("container-aspectratio")&&(a(d).css({width:"",height:""}),"width"==b?ElementProperty.off(d,"height",a(d).data("container-aspectratio").listener):ElementProperty.off(d,"width",a(d).data("container-aspectratio").listener),a(d).removeData("container-aspectratio"))}}}}(jQuery),function(a){Plugins.fn.expressionlistener_class=function(b,c){var d=this.elm;return{enable:function(){if(!a.data(d,"expressionlistener_class-"+b)){var e=function(c){c?(a(d).addClass(b),a(d).removeClass(b+"_off")):(a(d).removeClass(b),a(d).addClass(b+"_off"))};c=Selectors.generate(c,d),a.data(d,"expressionlistener_class-"+b,{listener:e,expression:c}),Variables.on(d,c,e)}},disable:function(){var c=a.data(d,"expressionlistener_class-"+b);void 0!=c&&Variables.off(d,c.expression,c.listener)}}},Plugins.fn.expressionlistener_focus=function(b){var c=this.elm;return{enable:function(){var d=function(b){b&&a(c).focus()};b=Selectors.generate(b,c),a.data(c,"expressionlistener_focus-"+b,d),Variables.on(c,b,d)},disable:function(){var d=a.data(c,"expressionlistener_focus-"+b);void 0!=d&&(b=Selectors.generate(b,c),Variables.off(c,b,d))}}},Plugins.fn.expressionlistener_set=function(b,c,d){for(var e=this.elm,f=c.split(","),g=0;g<f.length;g++)f[g]=Selectors.generate(f[g],e);return d=Selectors.generate(d,e),b=Selectors.generate(b,e),{enable:function(){if(void 0==a.data(e,"expressionlistener_set-"+b+"-"+c)){var g=function(){for(var a=Variables.eval(e,d),b=0;b<f.length;b++)Variables.set(e,f[b],a)};a.data(e,"expressionlistener_set-"+b+"-"+c,g),Variables.on(e,b,g)}},disable:function(){var d=a.data(e,"expressionlistener_set-"+b+"-"+c);void 0!=d&&Variables.off(e,b,d)}}}}(jQuery),function(a){Plugins.fn.grid_offset=function(b,c){var d=this.elm;return{enable:function(){if(a(d).data("grid-row-offset-offelm"))a(d).data("grid-row-offset-offelm").css({width:b,height:c,display:"block",visibility:"hidden"});else{var e=a("<div />");e.css({width:b,height:c,display:"block",visibility:"hidden"}),a(d).before(e),a(d).data("grid-row-offset-offelm",e)}},disable:function(){d.data("grid-row-offset-offelm")&&(a(d).data("grid-row-offset-offelm").detach(),a(d).removeData("grid-row-offset-offelm"))}}}}(jQuery),function(a){var b=null,c=function(d){1!=d.which&&(a(b).removeClass(a(b).data("resizable-class")),b=null,a(document).off("mousemove",c)),null!=b&&(-1!=a(b).data("resizable-moveX")&&a(b).width(d.pageX-a(b).offset().left+a(b).data("resizable-moveX")),-1!=a(b).data("resizable-moveY")&&a(b).height(d.pageY-a(b).offset().top+a(b).data("resizable-moveY")))},d=function(d){if(1==d.which){var e=a(this).offset().left+a(this).width()-d.pageX,f=a(this).offset().top+a(this).height()-d.pageY;e<=a(this).data("resizable-clickspacing")&&a(this).data("resizable-moveX",e),f<=a(this).data("resizable-clickspacing")&&a(this).data("resizable-moveY",f),(-1!=a(this).data("resizable-moveX")||-1!=a(this).data("resizable-moveY"))&&(b=this,a(this).addClass(a(this).data("resizable-class")),a(document).on("mousemove",c))}},e=function(){a(this).data("resizable-moveX",-1),a(this).data("resizable-moveY",-1),b=null,a(this).removeClass(a(this).data("resizable-class")),a(document).off("mousemove",c)};Plugins.fn.resizable=function(f,g){var h=a(this.elm);return{enable:function(){h.data("resizable-enabled")||(h.data("resizable-enabled",!0),h.data("resizable-clickspacing",g),h.data("resizable-class",f),h.data("resizable-moveX",-1),h.data("resizable-moveY",-1),h.on("mousedown",d),h.on("mouseup",e))},disable:function(){h.data("resizable-enabled")&&(h.removeData("resizable-enabled"),h.off("mousedown",d),h.off("mouseup",e),b==this&&(b=null,a(this).removeClass(a(this).data("resizable-class")),a(document).off("mousemove",c)))}}}}(jQuery),function(a){Plugins.fn.smoothscrolling=function(b){var c=this.elm;return{enable:function(){if(void 0==a(c).data("smoothscrolling")){var d=function(c){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var d=this.hash,e=a(this.hash);e=e.length?e:a("[name="+this.hash.slice(1)+"]"),e.length?(console.log(e.offset().top),a("html,body").animate({scrollTop:e.offset().top},b,"swing",function(){location.hash=d}),c.preventDefault()):""==this.hash&&(a("html,body").animate({scrollTop:0},b,"swing",function(){location.hash=d}),c.preventDefault())}};a(c).data("smoothscrolling",d),a(c).on("click",d)}},disable:function(){var b=a(c).data("smoothscrolling");void 0!=b&&(a(c).off("click",b),a(c).removeData("smoothscrolling"))}}}}(jQuery),function(a){a.fn.sticky_enable=function(b){var c,d,e,f,g,h,i;null==b&&(b={}),h=b.stick_in,d=b.sticky_class,c=b.parent,e=b.z_index,f=b.stick_directions,g=b.scrollarea_offset,null==c&&(c=void 0),null==d&&(d="sticked"),null==f&&(f="t"),null==g&&(g=""),null==e&&(e=1),null==h&&(h="viewport"),i=function(b){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x={OFF:0,VIEWPORT_TOP:1,VIEWPORT_BOTTOM:2,PARENT_TOP:3,PARENT_BOTTOM:4},y=x.OFF,z=!1;if(!b.data("sticky_enabled")){if(b.data("sticky_enabled",!0),i=b.parent(),null!==c&&(i=i.closest(c)),!i.length)throw"failed to find sticky_parent";if(k=b.parent(),"viewport"==h?k=a(window):null!==h&&(k=k.closest(h)),!k.length)throw"failed to find stick_in";b.outerHeight(!0)!==i.height()&&(j=a("<div />"),r=function(){z||(z=!0,j.css({width:b.outerWidth(!0),height:b.outerHeight(!0),display:b.css("display"),"vertical-align":b.css("vertical-align"),"float":b.css("float"),position:b.css("position"),visibility:"hidden"}),b.after(j))},s=function(){z&&(z=!1,j.detach())},t=function(a){if(a!==y){var c=y;y=a,a==x.OFF?(b.css({position:"",top:"",width:"",height:"",bottom:"","z-index":""}),i.css("position",""),c==x.VIEWPORT_TOP?-1!==g.indexOf("t")&&blueleaf.scrollarea.changeOffset({top:-b.outerHeight(!0)}):c==x.VIEWPORT_BOTTOM&&-1!==g.indexOf("b")&&blueleaf.scrollarea.changeOffset({bottom:-b.outerHeight(!0)}),b.removeClass(d)):(b.addClass(d),a==x.VIEWPORT_TOP?(-1!==g.indexOf("t")&&blueleaf.scrollarea.changeOffset({top:b.outerHeight(!0)}),b.css({position:"viewport"==h?"fixed":"absolute","z-index":e,top:0,bottom:"",width:"border-box"===b.css("box-sizing")?b.outerWidth()+"px":b.width()+"px",height:"border-box"===b.css("box-sizing")?b.outerHeight()+"px":b.height()+"px"})):a==x.VIEWPORT_BOTTOM?(-1!==g.indexOf("b")&&blueleaf.scrollarea.changeOffset({bottom:b.outerHeight(!0)}),b.css({position:"viewport"==h?"fixed":"absolute","z-index":e,top:"",bottom:0,width:"border-box"===b.css("box-sizing")?b.outerWidth()+"px":b.width()+"px",height:"border-box"===b.css("box-sizing")?b.outerHeight()+"px":b.height()+"px"})):a==x.PARENT_TOP?b.css({position:"absolute","z-index":e,top:i.css("padding-top"),bottom:"",width:"border-box"===b.css("box-sizing")?b.outerWidth()+"px":b.width()+"px",height:"border-box"===b.css("box-sizing")?b.outerHeight()+"px":b.height()+"px"}):a==x.PARENT_BOTTOM&&b.css({position:"absolute","z-index":e,top:"",bottom:i.css("padding-bottom"),width:"border-box"===b.css("box-sizing")?b.outerWidth()+"px":b.width()+"px",height:"border-box"===b.css("box-sizing")?b.outerHeight()+"px":b.height()+"px"}),"static"===i.css("position")&&i.css("position","relative"))}},v=function(){if(b.data("sticky_enabled")){s(),t(x.OFF);var a=k.scrollTop();k.scrollTop(0),q="viewport"==h?0:k.offset().top+parseInt(k.css("border-top-width"))+parseInt(k.css("padding-top")),p=k.height(),l=b.offset().top-q,m=b.outerHeight(!0),n=i.offset().top+parseInt(i.css("border-top-width"))+parseInt(i.css("padding-top")),o=i.height(),b.addClass(d),l-=parseInt(b.css("margin-top")),m+=parseInt(b.css("margin-top"))+parseInt(b.css("margin-bottom")),b.removeClass(d),k.scrollTop(a),u()}},u=function(){if(b.data("sticky_enabled")){var a=k.scrollTop();a>l&&-1!==f.indexOf("t")?a+m>n+o?(r(),t(x.PARENT_BOTTOM)):(r(),t(x.VIEWPORT_TOP),"viewport"!=h&&b.css("top",a)):l+m>a+p&&-1!==f.indexOf("b")?n+m>a+p?(r(),t(x.PARENT_TOP)):(r(),t(x.VIEWPORT_BOTTOM),"viewport"!=h&&b.css("top",p-m+a)):(s(),t(x.OFF))}},detach=function(){b.data("sticky_enabled")&&(b.removeData("sticky_enabled"),k.off("scroll",u),k.off("touchmove",u),a(window).off("resize",v),b.off("sticky_detach",detach),w.disconnect(),t(x.OFF),s(),j.remove())},v(),k.on("touchmove",u),k.on("scroll",u),a(window).on("resize",v),b.on("sticky_detach",detach))}};for(var j=0,k=this.length;k>j;j++){var l=this[j];i(a(l))}return this},a.fn.sticky_disable=function(){_fn=function(a){a.trigger("sticky_detach")};for(var b=0,c=this.length;c>b;b++){var d=this[b];_fn(a(d))}return this}}(jQuery),function(a){Plugins.fn.stickyfooter=function(b){var c=a(this.elm);return{enable:function(){function d(a){0==a?(c.css({position:"",bottom:"",width:"",height:""}),g.css("position","")):(d(!1),c.css({position:"absolute",bottom:0,width:"border-box"===c.css("box-sizing")?c.outerWidth()+"px":c.width()+"px",height:"border-box"===c.css("box-sizing")?c.outerHeight()+"px":c.height()+"px"}),"static"===g.css("position")&&g.css("position","relative"))}function e(){g.css("height","auto"),g.css("min-height","0");var a=g.height();g.css("height",""),g.css("min-height",""),d(a<g.height()?!0:!1)}function f(){c.data("stickyfooter_enabled")&&(c.removeData("stickyfooter_enabled"),a(window).off("resize",e),c.off("sticky_detach",f),d(!1))}if(void 0==c.data("stickyfooter")){var g=c.parent();if(void 0!=b&&(g=g.closest(b)),!g.length)throw"Stickyfooter: failed to find parent";e(),a(window).on("resize",e),a(c).data("stickyfooter",f)}},disable:function(){var b=a(c).data("stickyfooter");void 0!=b&&b()}}}}(jQuery),function(a){var b=new Object;a(document).on("click mouseover mouseout",function(a){var c=a.target.id+"-"+a.type;if(void 0!=b[c]){for(var d=0;d<b[c].length;d++)for(var e=b[c][d],f=Variables.eval(e.context,e.value_expression),g=0;g<e.keyList.length;g++)Variables.set(e.context,e.keyList[g],f);delete b[c]}});var c=function(a,c,d,e,f){void 0==b[f]&&(b[f]=new Array);var g={keyList:c,value_expression:d,priority:e,context:a};b[f].push({key:"trololol"});for(var h=b[f].length-1;h>=0;h--){if(!(0!=h&&g.priority<b[f][h-1].priority)){b[f][h]=g;break}b[f][h]=b[f][h-1]}};Plugins.fn.trigger=function(b,d,e,f){var g=this.elm;return{enable:function(){if(void 0==a(g).data("trigger-"+b+"-"+d)){a(g).uniqueId();for(var h=b.split(","),i=0;i<h.length;i++)h[i]=Selectors.generate(h[i],g);e=Selectors.generate(e,g);var j=function(a){if("focus"==d||"blur"==d){for(var b=Variables.eval(g,e),i=0;i<h.length;i++)Variables.set(g,h[i],b);return!0}return c(g,h,e,f,a.target.id+"-"+a.type),!0};a(g).data("trigger-"+b+"-"+d,j),a(g).on(d,j)}},disable:function(){void 0!=a(g).data("trigger-"+b+"-"+d)&&(a(g).off(d,a(g).data("trigger-"+b+"-"+d)),a(g).removeData("trigger-"+b+"-"+d))}}},Plugins.fn.trigger_bind=function(b,c){var d=this.elm;return{enable:function(){if(void 0==a(d).data("trigger-bind-"+b+"-"+c)){a(d).uniqueId();for(var e=b.split(","),f=0;f<e.length;f++)e[f]=Selectors.generate(e[f],d);var g={listener_on:function(){for(var a=0;a<e.length;a++)Variables.set(d,e[a],!0);return!0},listener_off:function(){for(var a=0;a<e.length;a++)Variables.set(d,e[a],!1);return!0}};a(d).data("trigger-bind-"+b+"-"+c,g),"hover"==c?(a(d).on("mouseover",g.listener_on),a(d).on("mouseout",g.listener_off)):"focus"==c&&(a(d).on("focus",g.listener_on),a(d).on("blur",g.listener_off))}},disable:function(){var e=d.data("trigger-bind-"+b+"-"+c);void 0!=e&&("hover"==c?(a(d).off("mouseover",e.listener_on),a(d).off("mouseout",e.listener_off)):"focus"==c&&(a(d).off("focus",e.listener_on),a(d).off("blur",e.listener_off)),a(d).removeData("trigger-bind-"+b+"-"+c))}}},Plugins.fn.trigger_bind_scrollposition=function(b,c,d,e){for(var f=this.elm,g=b.split(","),h=0;h<g.length;h++)g[h]=Selectors.generate(g[h],f);return{enable:function(){if(void 0==jQuery.data(f,"trigger-bind-scrollposition-"+b)){var h={top:0,right:0,bottom:0,left:0};jQuery.extend(h,e);var i=!1,j=a("window"==d?window:Selectors.generate(d,f)),k={listener:function(){var b=j.scrollTop(),e=j.scrollLeft(),k=j.innerWidth(),l=j.innerHeight(),m="window"==d?0:j.offset().top+parseInt(j.css("border-top-width"))+parseInt(j.css("padding-top")),n="window"==d?0:j.offset().left+parseInt(j.css("border-left-width"))+parseInt(j.css("padding-left")),o=a(f).offset();"window"!=d&&(o.top+=b-m),"window"!=d&&(o.left+=e-n);var p=a(f).outerWidth(),q=a(f).outerHeight(),r={};if(("top"==c||"visible"==c)&&(r.top=b+h.top>=o.top-1),("bottom"==c||"visible"==c)&&(r.bottom=b+l-h.bottom<=o.top+q+1),("left"==c||"visible"==c)&&(r.left=e+h.left>=o.left-1),("right"==c||"visible"==c)&&(r.right=e+k-h.right<=o.left+p+1),"visible"==c&&(r.visible=!(r.top||r.bottom||r.left||r.right)),r[c]!=i){i=r[c];for(var s=0;s<g.length;s++)Variables.set(f,g[s],i)}},scrollarea_elm:j};jQuery.data(f,"trigger-bind-scrollposition-"+b,k),k.scrollarea_elm.on("touchmove",k.listener),k.scrollarea_elm.on("scroll",k.listener),k.scrollarea_elm.on("resize",k.listener),k.listener()}},disable:function(){var a=jQuery.data(f,"trigger-bind-scrollposition-"+b);if(void 0!=a){a.scrollarea_elm.off("touchmove",a.listener),a.scrollarea_elm.off("scroll",a.listener),a.scrollarea_elm.off("resize",a.listener);for(var c=0;c<g.length;c++)Variables.set(f,g[c],!1);jQuery.removeData(f,"trigger-bind-scrollposition-"+b)}}}}}(jQuery),function(){Plugins.fn.variable_init=function(a,b,c){var d=this.elm;return a=Selectors.generate(a,d),"simple"!=c&&(b=Selectors.generate(b,d)),{enable:function(){Variables.addVariable(d,a,b,c)},disable:function(){Variables.removeVariable(d,a)}}}}(jQuery),CSSParser.prototype.requireToken=function(a){a instanceof Array||(a=new Array(a));var b=/^[\s\n]*/,c=b.exec(this.css.substring(this.position));null!=c&&(this.position+=c.index+c[0].length);for(var d=0;d<a.length;d++){var e=this.token[a[d]].exec(this.css.substring(this.position));if(null!=e)return this.position+=e.index+e[0].length,{type:a[d],match:e}}return null},CSSParser.prototype.parse=function(){function a(a){for(var b;null!=(b=a.requireToken(["RULE","COMMENT_OPEN"]));)if("COMMENT_OPEN"==b.type){if(null!=a.requireToken("COMMENT_CONTENT_JSON_DATA")){var c=a.requireToken("COMMENT_CONTENT");if(null!=c){var d=JSON.parse(c.match[0]);void 0==a.tree[a.currentMediaQuery]&&(a.tree[a.currentMediaQuery]=new Object),void 0==a.tree[a.currentMediaQuery][a.currentSelector]&&(a.tree[a.currentMediaQuery][a.currentSelector]=new Array),a.tree[a.currentMediaQuery][a.currentSelector].push(d)}}if(a.requireToken("COMMENT_CONTENT"),null==a.requireToken("COMMENT_CLOSE"))return a.error=!0,!1}return!0}function b(a){for(var c;null!=(c=a.requireToken(["SELECTOR","IGNORE","BLOCK_CONTENT"]));){if("BLOCK_CONTENT"==c.type)return!0;if(null==a.requireToken("BLOCK_OPEN"))return!1;if(!b(a))return!1;if(null==a.requireToken("BLOCK_CLOSE"))return!1}return!0}if(null==this.requireToken("ENABLE"))return!1;for(var c;null!=(c=this.requireToken(["SELECTOR","MEDIA_DIRECTIVE","IGNORE","COMMENT_OPEN"]));)if("SELECTOR"==c.type){if(this.currentSelector=c.match[1],null==this.requireToken("BLOCK_OPEN"))return this.error=!0,!1;if(0==a(this))return!1;if(null==this.requireToken("BLOCK_CLOSE"))return this.error=!0,!1;this.currentSelector=""}else if("MEDIA_DIRECTIVE"==c.type){if(this.currentMediaQuery=c.match[1],null==this.requireToken("BLOCK_OPEN"))return this.error=!0,!1;for(var d;null!=(d=this.requireToken(["SELECTOR","IGNORE","COMMENT_OPEN"]));)if("SELECTOR"==d.type){if(this.currentSelector=d.match[1],null==this.requireToken("BLOCK_OPEN"))return this.error=!0,!1;if(0==a(this))return!1;if(null==this.requireToken("BLOCK_CLOSE"))return this.error=!0,!1;this.currentSelector=""}else if("IGNORE"==d.type){if(null==this.requireToken("BLOCK_OPEN"))return this.error=!0,!1;if(!b(this))return this.error=!0,!1;if(null==this.requireToken("BLOCK_CLOSE"))return this.error=!0,!1}else if("COMMENT_OPEN"==d.type){if(null==this.requireToken("COMMENT_CONTENT"))return this.error=!0,!1;if(null==this.requireToken("COMMENT_CLOSE"))return this.error=!0,!1}if(null==this.requireToken("BLOCK_CLOSE"))return this.error=!0,!1;this.currentMediaQuery="all"}else if("IGNORE"==c.type){if(null==this.requireToken("BLOCK_OPEN"))return this.error=!0,!1;if(!b(this))return this.error=!0,!1;if(null==this.requireToken("BLOCK_CLOSE"))return this.error=!0,!1}else if("COMMENT_OPEN"==c.type){if(null==this.requireToken("COMMENT_CONTENT"))return this.error=!0,!1;if(null==this.requireToken("COMMENT_CLOSE"))return this.error=!0,!1}return!0};var blueleaf={apply:function(){for(var a in enquire.queries)enquire.queries[a].assess()},cutomrules:{ruleslist:{},properties:{},enabledProperties:new Map,addRule:function(a,b){this.ruleslist[a]=b},addProperty:function(a,b,c,d){void 0==this.properties[a]&&(this.properties[a]={selectors:{},active:!1}),void 0==this.properties[a].selectors[b]&&(this.properties[a].selectors[b]=new Array),this.properties[a].selectors[b].push({rule:c,options:d})},parseStyleSheet:function(a){var b=new CSSParser(a);if(b.parse())for(var c in b.tree)for(var d in b.tree[c])for(var e=0;e<b.tree[c][d].length;e++){var f=getFirstKeyInArray(b.tree[c][d][e]);this.addProperty(c,d,f,b.tree[c][d][e][f])}},enableProperty:function(a,b,c,d){var e=this.enabledProperties.get(a);void 0==e&&(e=[],this.enabledProperties.put(a,e)),jQuery.inArray(b+"~"+c+"~"+d,e)>-1||void 0!=this.ruleslist[this.properties[b].selectors[c][d].rule]&&(this.ruleslist[this.properties[b].selectors[c][d].rule].enable(a,this.properties[b].selectors[c][d].options),e.push(b+"~"+c+"~"+d))},disableProperty:function(a,b,c,d){var e=this.enabledProperties.get(a);void 0!=e&&-1!=jQuery.inArray(b+"~"+c+"~"+d,e)&&void 0!=this.ruleslist[this.properties[b].selectors[c][d].rule]&&(this.ruleslist[this.properties[b].selectors[c][d].rule].disable(a,this.properties[b].selectors[c][d].options),this.enabledProperties.put(a,jQuery.grep(e,function(a){return a!=b+"~"+c+"~"+d})))},init:function(){for(var a in this.properties)!function(a,b,c,d){enquire.register(a,{match:function(){b.active=!0;for(var e in b.selectors)for(var f=0;f<b.selectors[e].length;f++)void 0!=c[b.selectors[e][f].rule]&&jQuery(e).each(function(){d.enableProperty(this,a,e,f)})},unmatch:function(){b.active=!1;for(var e in b.selectors)for(var f=0;f<b.selectors[e].length;f++)void 0!=c[b.selectors[e][f].rule]&&jQuery(e).each(function(){d.disableProperty(this,a,e,f)})}})}(a,this.properties[a],this.ruleslist,this);var b=this,c=new MutationObserver(function(a){for(var c=0;c<a.length;c++)if("attributes"==a[c].type){var d=a[c].target,e=[];for(var f in b.properties)if(1==b.properties[f].active)for(var g in b.properties[f].selectors)if(jQuery(d).is(g))for(var h=0;h<b.properties[f].selectors[g].length;h++)b.enableProperty(d,f,g,h),e.push(f+"~"+g+"~"+h);var i=b.enabledProperties.get(d);if(void 0!=i)for(var j=0;j<i.length;j++)if(-1==jQuery.inArray(i[j],e)){var k=i[j].split("~");b.disableProperty(d,k[0],k[1],k[2])}}else if("childList"==a[c].type){for(var j=0;j<a[c].addedNodes.length;j++){var d=a[c].addedNodes.item(j);for(var f in b.properties)if(1==b.properties[f].active)for(var g in b.properties[f].selectors)if(jQuery(d).is(g))for(var h=0;h<b.properties[f].selectors[g].length;h++)b.enableProperty(d,f,g,h)}for(var j=0;j<a[c].removedNodes.length;j++){var d=a[c].removedNodes.item(j),i=b.enabledProperties.get(d);if(void 0!=i)for(var h=0;h<i.length;h++){var k=i[h].split("~");b.disableProperty(d,k[0],k[1],k[2])}}}});c.observe(document,{attributes:!0,childList:!0,subtree:!0})}}};!function(a){blueleaf.cutomrules.addRule("container-aspectratio",{enable:function(a,b){Plugins(a).container_aspectratio(b.adjust,b.factor).enable()},disable:function(a){Plugins(a).container_aspectratio().disable()}}),blueleaf.cutomrules.addRule("grid-offset",{enable:function(a,b){Plugins(a).grid_offset(b.width,b.height).enable()},disable:function(a){Plugins(a).grid_offset().disable()}}),blueleaf.cutomrules.addRule("resizable",{enable:function(a,b){Plugins(a).resizable(b.resize_class,b.click_spacing).enable()},disable:function(a){Plugins(a).resizable().disable()}}),blueleaf.cutomrules.addRule("variable_init",{enable:function(a,b){Plugins(a).variable_init(b.variable,b.value,b.type).enable()},disable:function(a,b){Plugins(a).variable_init(b.variable).disable()}}),blueleaf.cutomrules.addRule("expressionlistener_class",{enable:function(a,b){Plugins(a).expressionlistener_class(b.element_class,b.expression).enable()},disable:function(a,b){Plugins(a).expressionlistener_class(b.element_class).disable()}}),blueleaf.cutomrules.addRule("expressionlistener_focus",{enable:function(a,b){Plugins(a).expressionlistener_focus(b.expression).enable()},disable:function(a,b){Plugins(a).expressionlistener_focus(b.expression).disable()}}),blueleaf.cutomrules.addRule("expressionlistener_set",{enable:function(a,b){Plugins(a).expressionlistener_set(b.expression,b.key,b.value_expression).enable()},disable:function(a,b){Plugins(a).expressionlistener_set(b.expression,b.key).disable()}}),blueleaf.cutomrules.addRule("trigger",{enable:function(a,b){Plugins(a).trigger(b.key,b.event_type,b.value_expression,b.priority).enable()},disable:function(a,b){Plugins(a).trigger(b.key,b.event_type).disable()}}),blueleaf.cutomrules.addRule("trigger_bind",{enable:function(a,b){Plugins(a).trigger_bind(b.key,b.status_type).enable()},disable:function(a,b){Plugins(a).trigger_bind(b.key,b.status_type).disable()}}),blueleaf.cutomrules.addRule("trigger_bind_scrollposition",{enable:function(a,b){Plugins(a).trigger_bind_scrollposition(b.key,b.scroll_status,b.scrollarea,b.offset).enable()},disable:function(a,b){Plugins(a).trigger_bind_scrollposition(b.key).disable()}}),blueleaf.cutomrules.addRule("smoothscrolling",{enable:function(a,b){Plugins(a).smoothscrolling(b.time).enable()},disable:function(a){Plugins(a).smoothscrolling().disable()}}),blueleaf.cutomrules.addRule("stickyfooter",{enable:function(a,b){Plugins(a).stickyfooter(b.parent).enable()},disable:function(a,b){Plugins(a).stickyfooter(b.parent).disable()}}),a(function(){function a(){for(var a=document.getElementsByTagName("link"),b=[],c=0;c<a.length;c++)a[c].rel.match(/stylesheet/)&&b.push(a[c].href);return b}function b(){d++,d==c.length&&blueleaf.cutomrules.init()}for(var c=a(),d=0,e=0;e<c.length;e++)jQuery.get(c[e],null,function(a){blueleaf.cutomrules.parseStyleSheet(a),b()})})}(jQuery);